head(data_2006$AVGFACSAL)
View(data_2006)
data_2006$AVGFACSAL
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
data_2006$AVGFACSAL
data_2006$AVGFACSAL[1]
data_2006$AVGFACSAL <- as.numeric(data_2006$AVGFACSAL)
data_2006$AVGFACSAL[1]
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
data_2006$AVGFACSAL[1]
as.numeric(data_2006$AVGFACSAL[1])
as.numeric(as.character(data_2006$AVGFACSAL[1]))
data_2006$AVGFACSAL <- as.numeric(as.character(data_2006$AVGFACSAL))
max(data_2006$AVGFACSAL)
data_2006$AVGFACSAL <- subset(data_2006$AVGFACSAL, data_2006$AVGFACSAL != TRUE)
data_2006 <- subset(data_2006$AVGFACSAL, data_2006$AVGFACSAL != TRUE)
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
data_2006$AVGFACSAL <- as.numeric(as.character(data_2006$AVGFACSAL))
data_2006 <- subset(data_2006, data_2006$AVGFACSAL != TRUE)
max(data_2006$AVGFACSAL)
hist(as.numeric(data_2006$AVGFACSAL), breaks = 50)
hist(as.numeric(data_2006$AVGFACSAL), breaks = 50, main = "Histogram of Faculty Salary", xlab = "Monthly Faculty Salary")
mid <- rbind(low_mid, mid_high)
is.numeric(low$AVGFACSAL[1])
max(low$AVGFACSAL[1])
max(low_mid$AVGFACSAL[1])
max(high$AVGFACSAL[1])
max(mid_high$AVGFACSAL[1])
summary(data_2006$AVGFACSAL)
a <- summary(data_2006$AVGFACSAL)
save(a, file = "../../data/faculty_salaries.RData")
LFLS <- subset(low, low$AVGFACSAL < 4000)
MFLS <- subset(mid, mid$AVGFACSAL >= 4000 & mid$AVGFACSAL < 6000)
HFHS <- subset(high, high$AVGFACSAL >= 6000)
LFLS <- subset(low, low$AVGFACSAL < 4000)
MFLS <- subset(mid, mid$AVGFACSAL < 4000)
HFHS <- subset(high, high$AVGFACSAL < 6000)
length(LFLS[[1]])
length(HFLS[[1]])
LFLS <- subset(low, low$AVGFACSAL < 4000)
MFLS <- subset(mid, mid$AVGFACSAL < 4000)
HFHS <- subset(high, high$AVGFACSAL < 6000)
HFLS <- subset(high, high$AVGFACSAL < 6000)
length(LFLS[[1]])
length(MFLS[[1]])
length(HFLS[[1]])
LFMS <- subset(low, low$AVGFACSAL >= 4000 & low$AVGFACSAL < 6000)
MFMS <- subset(mid, mid$AVGFACSAL >= 4000 & mid$AVGFACSAL < 6000)
HFMS <- subset(high, high$AVGFACSAL >= 4000 & high$AVGFACSAL < 6000)
length(LFMS[[1]])
length(MFMS[[1]])
length(HFMS[[1]])
LFHS <- subset(low, low$AVGFACSAL >= 6000)
MFHS <- subset(mid, mid$AVGFACSAL >= 6000)
HFHS <- subset(high, high$AVGFACSAL >= 6000)
length(LFHS[[1]])
length(MFHS[[1]])
length(HFHS[[1]])
LFLS <- subset(low, low$AVGFACSAL < 4500)
length(LFLS[[1]])
LFLS <- subset(low, low$AVGFACSAL < 4500)
MFLS <- subset(mid, mid$AVGFACSAL < 4500)
HFLS <- subset(high, high$AVGFACSAL < 4500)
length(LFLS[[1]])
length(MFLS[[1]])
length(HFLS[[1]])
LFMS <- subset(low, low$AVGFACSAL >= 4000 & low$AVGFACSAL < 6000)
MFMS <- subset(mid, mid$AVGFACSAL >= 4000 & mid$AVGFACSAL < 6000)
HFMS <- subset(high, high$AVGFACSAL >= 4000 & high$AVGFACSAL < 6000)
length(LFMS[[1]])
length(MFMS[[1]])
length(HFMS[[1]])
LFHS <- subset(low, low$AVGFACSAL >= 6000)
MFHS <- subset(mid, mid$AVGFACSAL >= 6000)
HFHS <- subset(high, high$AVGFACSAL >= 6000)
length(LFHS[[1]])
length(MFHS[[1]])
length(HFHS[[1]])
LFMS <- subset(low, low$AVGFACSAL >= 4500 & low$AVGFACSAL < 6000)
MFMS <- subset(mid, mid$AVGFACSAL >= 4500 & mid$AVGFACSAL < 6000)
HFMS <- subset(high, high$AVGFACSAL >= 4500 & high$AVGFACSAL < 6000)
length(LFMS[[1]])
length(MFMS[[1]])
length(HFMS[[1]])
source("../functions/unemployment.R")
unemp_LFLS <- unemployment_six_years(LFLS)
unemp_LFLS <- unemployment_six_years(LFLS)
LFLS_mean <- mean(unemp_LFLS)
unemp_MFLS <- unemployment_six_years(MFLS)
MFLS_mean <- mean(unemp_MFLS)
unemp_HFLS <- unemployment_six_years(HFLS)
HFLS_mean <- mean(unemp_HFLS)
barplot(c(unemp_LFLS, unemp_MFLS, unemp_HFLS))
barplot(c(LFLS_mean, MFLS_mean, HFLS_mean))
unemp_LFMS <- unemployment_six_years(LFMS)
LFMS_mean <- mean(unemp_LFMS)
unemp_MFMS <- unemployment_six_years(MFMS)
MFMS_mean <- mean(unemp_MFMS)
unemp_HFMS <- unemployment_six_years(HFMS)
HFMS_mean <- mean(unemp_HFMS)
barplot(c(LFMS_mean, MFMS_mean, HFMS_mean))
barplot(c(LFMS_mean, MFMS_mean, HFMS_mean))
barplot(c(LFLS_mean, MFLS_mean, HFLS_mean))
LS <- c(unemp_LFLS, unemp_MFLS, unemp_HFLS)
MS <- c(unemp_LFMS, unemp_MFMS, unemp_HFMS)
HS <- c(unemp_LFHS, unemp_MFHS, unemp_HFHS)
table(LS, MS, HS)
unemp_LFHS <- unemployment_six_years(LFHS)
LFHS_mean <- mean(unemp_LFHS)
unemp_MFMS <- unemployment_six_years(MFMS)
MFMS_mean <- mean(unemp_MFMS)
unemp_HFMS <- unemployment_six_years(HFMS)
HFMS_mean <- mean(unemp_HFMS)
barplot(c(LFMS_mean, MFMS_mean, HFMS_mean))
LS <- c(unemp_LFLS, unemp_MFLS, unemp_HFLS)
MS <- c(unemp_LFMS, unemp_MFMS, unemp_HFMS)
HS <- c(unemp_LFHS, unemp_MFHS, unemp_HFHS)
unemp_LFHS <- unemployment_six_years(LFHS)
LFHS_mean <- mean(unemp_LFHS)
unemp_MFHS <- unemployment_six_years(MFHS)
MFHS_mean <- mean(unemp_MFHS)
unemp_HFHS <- unemployment_six_years(HFHS)
HFHS_mean <- mean(unemp_HFHS)
LS <- c(unemp_LFLS, unemp_MFLS, unemp_HFLS)
MS <- c(unemp_LFMS, unemp_MFMS, unemp_HFMS)
HS <- c(unemp_LFHS, unemp_MFHS, unemp_HFHS)
table(LS, MS, HS)
boxplot(unemp_LFLS)
boxplot(unemp_LFLS, unemp_MFLS)
boxplot(unemp_LFLS, unemp_MFLS, unemp_HFLS)
LS <- c(LFLS_mean, MFLS_mean, HFLS_mean)
MS <- c(LFMS_mean, MFMS_mean, HFMS_mean)
HS <- c(LFHS_mean, MFHS_mean, HFHS_mean)
table(LS, MS, HS)
counts <- table(LS, MS, HS)
barplot(counts, col = c("darkblue", "red", "purple"))
LS
MS
HS
is.matrix(counts)
as.matrix(counts)
barplot(as.matrix(counts), col = c("darkblue", "red", "purple"))
counts <- table(LS*100, MS*100, HS*100)
barplot(as.matrix(counts), col = c("darkblue", "red", "purple"))
as.matrix(counts)
c <- matrix(LS, MS, HS)
c
c <- matrix(c(LS, MS, HS), nrow = 3, ncol = 3)
c
barplot(counts, col = c("darkblue", "red", "purple"))
barplot(height = counts, col = c("darkblue", "red", "purple"))
is.matrix(counts)
as.matrix(counts)
counts
LS <- c(LFLS_mean, MFLS_mean, HFLS_mean)
MS <- c(LFMS_mean, MFMS_mean, HFMS_mean)
HS <- c(LFHS_mean, MFHS_mean, HFHS_mean)
LS
matrix(c(LS, MS, HS), nrow = 3, ncol = 3)
counts <- matrix(c(LS, MS, HS), nrow = 3, ncol = 3)
coujnts
counts
barplot(height = counts, col = c("darkblue", "red", "purple"))
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = True)
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE)
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary")
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", legend = c("Low Funding", "Medium Funding", "High Funding"), ylab = "Unemployment Rate")
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate")
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", cex = 0.5)
axis(2, at = c(0, 0.2))
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate")
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
axis(2, at = c(0, 0.2))
axis(2, at = c(0, 0.5))
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate")
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", ylim = c(0, 0.2))
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", ylim = c(0, 0.18))
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
boxplot(unemp_LFLS, unemp_MFLS, unemp_HFLS)
png("../../images/funding.png")
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", ylim = c(0, 0.18))
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
dev.off()
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", ylim = c(0, 0.18))
legend("topright", legend = c("Low Funding", "Medium Funding", "High Funding"), fill = c("darkblue", "red", "purple"), cex = 0.5)
LS_estimate <- (.5*LFLS_mean + .5*MFLS_mean) - HFLS_mean
MS_estimate <- (.5*LFMS  + .5*MFMS) - HFMS
HS_estimate <- (.5*LFHS .5*MFHS) - HFHS
LS_estimate <- (.5*LFLS_mean + .5*MFLS_mean) - HFLS_mean
MS_estimate <- (.5*LFMS  + .5*MFMS) - HFMS_mean
HS_estimate <- (.5*LFHS .5*MFHS) - HFHS_mean
MS_estimate <- (.5*LFMS_mean  + .5*MFMS_mean) - HFMS_mean
HS_estimate <- (.5*LFHS_mean .5*MFHS_mean) - HFHS_mean
HS_estimate <- (.5*LFHS_mean + .5*MFHS_mean) - HFHS_mean
x_LS <- c(unemp_LFLS, unemp_MFLS, unemp_HFLS)
varx_LS <- (var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
(1/length(unemp_HFLS)) +
)
varx_LS <- (var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1)/length(unemp_HFLS)) +
))
varx_LS <- (var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1)/length(unemp_HFLS)) +
))
varx_LS <- var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1)/length(unemp_HFLS)) +
)
varx_LS <- var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1)/length(unemp_HFLS)) +
)
varx_LS <- var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1/length(unemp_HFLS)) + )
varx_LS <- (var(x_LS)) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
((1/length(unemp_HFLS)) + )
varx_LS <- var(x_LS) * (((.5^2)/length(unemp_LSLS)) +
((.5^2)/length(unemp_MFLS)) +
(1/length(unemp_HFLS)))
varx_LS <- var(x_LS) * (((.5^2)/length(unemp_LFLS)) +
((.5^2)/length(unemp_MFLS)) +
(1/length(unemp_HFLS)))
x_MS <- c(unemp_LMLS, unemp_MFMS, unemp_HFMS)
varx_MS <- var(x_MS) * (((.5^2)/length(unemp_LFMS)) +
((.5^2)/length(unemp_MFMS)) +
(1/length(unemp_HFMS)))
x_MS <- c(unemp_LFMS, unemp_MFMS, unemp_HFMS)
varx_MS <- var(x_MS) * (((.5^2)/length(unemp_LFMS)) +
((.5^2)/length(unemp_MFMS)) +
(1/length(unemp_HFMS)))
x_HS <- c(unemp_LFHS, unemp_MFHS, unemp_HFHS)
varx_HS <- (var(x_HS)) * (((.5^2)/length(unemp_LFHS)) +
((.5^2)/length(unemp_MFHS)) +
(1/length(unemp_HFHS)))
paste("Low Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_LS + (1.96 * sqrt(varx_LS)), sep = " "))
estimate_LS <- (.5*LFLS_mean + .5*MFLS_mean) - HFLS_mean
estimate_MS <- (.5*LFMS_mean  + .5*MFMS_mean) - HFMS_mean
estimate_HS <- (.5*LFHS_mean + .5*MFHS_mean) - HFHS_mean
noquote(paste("high end :", estimate_LS + (1.96 * sqrt(varx_LS)), sep = " "))
noquote(paste("low end :", estimate_LS - (1.96*sqrt(varx_LS)), sep = " "))
paste("Medium Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_MS + (1.96 * sqrt(varx_MS)), sep = " "))
noquote(paste("low end :", estimate_MS - (1.96*sqrt(varx_MS)), sep = " "))
paste("High Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_HS + (1.96 * sqrt(varx_HS)), sep = " "))
noquote(paste("low end :", estimate_HS - (1.96*sqrt(varx_HS)), sep = " "))
sink("../../data/CI_hyptest_revised.txt")
paste("Low Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_LS + (1.96 * sqrt(varx_LS)), sep = " "))
noquote(paste("low end :", estimate_LS - (1.96*sqrt(varx_LS)), sep = " "))
paste("Medium Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_MS + (1.96 * sqrt(varx_MS)), sep = " "))
noquote(paste("low end :", estimate_MS - (1.96*sqrt(varx_MS)), sep = " "))
paste("High Faculty Salary Estimate of Funding Effect")
noquote(paste("high end :", estimate_HS + (1.96 * sqrt(varx_HS)), sep = " "))
noquote(paste("low end :", estimate_HS - (1.96*sqrt(varx_HS)), sep = " "))
sink()
120*.99
120*.98
120*.96
120*.985
data_2015 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2014_15_PP.csv")
for (i in 1:ncol(data_2015)) {
if (is.factor(data_2015[,i]) == TRUE) {
data_2015[,i] <- as.numeric(levels(data_2015[,i]))[data[,i]]
}
}
data2015 <- data_2015[, colSums(is.na(data_2015)) <= .5 * nrow(data_2015)]
is.numeric(data_2015$PCTFLOAN)
is.factor(data_2015$PCTFLOAN)
data_2015$PCTFLOAN <- as.numeric(as.character(data_2015$PCTFLOAN))
data_2015 <- subset(data_2015, is.na(data_2015$PCTFLOAN) != TRUE)
hist(data_2015$PCTFLOAN, breaks = 30, main = "Histogram of Financial Aid", xlab = "Percent of Students")
mysum <- summary(PCTFLOAN)
mysum <- summary(data_2015$PCTFLOAN)
low <- subset(data_2015, pct_fin >= 0.0 & pct_fin < 0.4)
low <- subset(data_2015, PCTFLOAN >= 0.0 & pct_fin < 0.4)
low <- subset(data_2015, PCTFLOAN >= 0.0 & PCTFLOAN < 0.4)
low_mid <- subset(data_2015, PCTFLOAN >= 0.4 & PCTFLOAN < 0.6)
mid_high <- subset(data_2015, PCTFLOAN >= 0.6 & PCTFLOAN < 0.8)
high <- subset(data_2015, PCTFLOAN >= 0.8 & PCTFLOAN < 1)
unemp_low <- unemployment_six_years(low)
unemployment_six_years <- function(dataset) {
dataset$COUNT_NWNE_P6 <- as.numeric(as.character(dataset$COUNT_NWNE_P6))
sub <- subset(dataset, is.na(dataset$COUNT_NWNE_P6) != TRUE &         is.na(dataset$COUNT_WNE_P6) != TRUE)
NW <- as.vector(sub$COUNT_NWNE_P6)
W <- as.vector(sub$COUNT_WNE_P6)
tot <- NW + W
return (NW / tot)
}
unemp_low <- unemployment_six_years(low)
unemployment_six_years <- function(dataset) {
dataset$COUNT_NWNE_P6 <- as.numeric(as.character(dataset$COUNT_NWNE_P6))
dataset$COUNT_WNE_P6 <- as.numeric(as.character(dataset$COUNT_WNE_P6))
sub <- subset(dataset, is.na(dataset$COUNT_NWNE_P6) != TRUE &         is.na(dataset$COUNT_WNE_P6) != TRUE)
NW <- as.vector(sub$COUNT_NWNE_P6)
W <- as.vector(sub$COUNT_WNE_P6)
tot <- NW + W
return (NW / tot)
}
unemp_low <- unemployment_six_years(low)
data_2015$COUNT_NWNE_P6 <- as.numeric(as.character(data_2015$COUNT_NWNE_P6)
data_2015$COUNT_WNE_P6 <- as.numeric(as.character(data_2015$COUNT_WNE_P6)
data_2015$COUNT_NWNE_P6 <- as.numeric(as.character(data_2015$COUNT_NWNE_P6))
head(data_2015$COUNT_NWNE_P6)
data_2015 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2014_15_PP.csv")
head(data_2015$COUNT_NWNE_P6)
hist(data_2015$PCTFLOAN, breaks = 50)
hist(as.numeric(as.character(data_2015$PCTFLOAN)), breaks = 50)
png("../../images/percent_aided_students_hist.png")
hist(as.numeric(as.character(data_2015$PCTFLOAN)), breaks = 50 main = "Histogram of Financial Aid", xlab = "Percent of Students")
png("../../images/percent_aided_students_hist.png")
hist(as.numeric(as.character(data_2015$PCTFLOAN)), breaks = 50, main = "Histogram of Financial Aid", xlab = "Percent of Students")
dev.off()
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean), col = c("#DB71C3", "#49A8BE", "#C8A9D1", "#D11D56"), main = "Unemployment Rate by Aid Percentage", xlab = "Percentage of Students who Recieved Financial Aid", ylab = "Unemployment Rate Six Years after Entry", names.arg = c("Low", "Low-Middle", "Middle-High", "High"), cex.names = 0.6)
low <- subset(data_2006, pct_fin >= 0.6 & pct_fin < 0.91)
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean), col = c("#DB71C3", "#49A8BE", "#C8A9D1", "#D11D56"), main = "Unemployment Rate by Aid Percentage", xlab = "Percentage of Students who Recieved Financial Aid", ylab = "Unemployment Rate Six Years after Entry", names.arg = c("Low", "Low-Middle", "Middle-High", "High"), cex.names = 0.6)
{\scriptsize If the amount of funding recieved by the school has no effect on quality of education rate, we should see little difference in the response variable (unemployment rate), and that difference is solely due to chance.}
estimate
estimate <- (.5*low_mean + .5*low_mid_mean) - (.5*mid_high_mean + .5*high_mean)
low <- subset(data_2006, pct_fin >= 0.6 & pct_fin < 0.91)
save(low, low_mid, mid_high, high, file = "../../data/data_by_finaid.RData")
load("../../data/data_by_finaid.RData")
unemp_low <- unemployment_six_years(low)
load("../../data/data_by_finaid.RData")
data_2006 <- read.csv("../../data/data_2006.csv")
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
test <- read.csv("~/stat159-project3/data/test_data.csv")
train <- read.csv("~/stat159-project3/data/training_data.csv")
for (i in 1:ncol(data_2006)) {
if (is.factor(data_2006[,i]) == TRUE) {
data_2006[,i] <- as.numeric(levels(data_2006[,i]))[data[,i]]
}
}
data_2006 <- data_2006[ , colSums(is.na(data_2006)) <= .5 * nrow(data_2006)]
for (i in 1:ncol(data_2006)) {
if (is.factor(data_2006[,i]) == TRUE) {
data_2006[,i] <- as.numeric(levels(data_2006[,i]))[data[,i]]
}
}
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
for (i in 1:ncol(data_2006)) {
if (is.factor(data_2006[,i]) == TRUE) {
data_2006[,i] <- as.numeric(levels(data_2006[,i]))[data[,i]]
}
}
data_2006 <- data_2006[ , colSums(is.na(data_2006)) <= .5 * nrow(data_2006)]
data_2006 <- data_2006[ , colSums(is.na(data_2006)) <= .5 * nrow(data_2006)]
data_2006 <- data_2006[ , colSums(is.na(data_2006)) <= .1 * nrow(data_2006)]
data_2006 <- subset(data_2006, colSums(is.na(data_2006)) <= (.5 * nrow(data_2006)))
data_2001 <- subset(data_2006, colSums(is.na(data_2006)) <= (.5 * nrow(data_2006)))
data_2006$PCTFLOAN
lo <- data_2006$INC_PCT_LO
m1 <- data_2006$INC_PCT_M1
m2 <- data_2006$INC_PCT_M2
h1 <- data_2006$INC_PCT_H1
pct_fin <- lo + m1 + m2 + h1
data_2006$INC_PCT_LO <- as.numeric(as.character(data_2006$INC_PCT_LO))
data_2006$INC_PCT_M1 <- as.numeric(as.character(data_2006$INC_PCT_M1))
data_2006$INC_PCT_M2 <- as.numeric(as.character(data_2006$INC_PCT_M2))
data_2006$INC_PCT_H1 <- as.numeric(as.character(data_2006$INC_PCT_H1))
data_2006 <- subset(data_2006, INC_PCT_LO != TRUE & INC_PCT_M1 != TRUE & INC_PCT_M2 != TRUE & INC_PCT_H1 != TRUE)
lo <- data_2006$INC_PCT_LO
m1 <- data_2006$INC_PCT_M1
m2 <- data_2006$INC_PCT_M2
h1 <- data_2006$INC_PCT_H1
pct_fin <- lo + m1 + m2 + h1
data_2006 <- cbind(data_2006, pct_fin)
hist(as.numeric(as.character(data_2015$PCTFLOAN)), breaks = 50, main = "Histogram of Financial Aid", xlab = "Percent of Students")
hist(as.numeric(as.character(data_2006$PCTFLOAN)), breaks = 50, main = "Histogram of Financial Aid", xlab = "Percent of Students")
low <- subset(data_2006, pct_fin >= 0.6 & pct_fin < 0.91)
low_mid <- subset(data_2006, pct_fin >= 0.91 & pct_fin < 0.96)
mid_high <- subset(data_2006, pct_fin >= 0.96 & pct_fin < 0.984)
high <- subset(data_2006, pct_fin >= 0.984 & pct_fin < 1)
save(low, low_mid, mid_high, high, file = "../../data/data_by_finaid.RData")
source("../functions/unemployment.R")
unemp_low <- unemployment_six_years(low)
low_mean <- mean(unemp_low)
unemp_low_mid <- unemployment_six_years(low_mid)
low_mid_mean <- mean(unemp_low_mid)
unemp_mid_high <- unemployment_six_years(mid_high)
mid_high_mean <- mean(unemp_mid_high)
unemp_high <- unemployment_six_years(high)
high_mean <- mean(unemp_high)
data_2006$COUNT_NWNE_P6 <- as.numeric(as.character(data_2006$COUNT_NWNE_P6))
data_2006$COUNT_WNE_P6 <- as.numeric(as.character(data_2006$COUNT_WNE_P6))
unemp_low <- unemployment_six_years(low)
data_2006 <- subset(data_2006, is.na(dataset$COUNT_NWNE_P6) != TRUE &         is.na(dataset$COUNT_WNE_P6) != TRUE)
data_2006 <- subset(data_2006, is.na(data_2006$COUNT_NWNE_P6) != TRUE &         is.na(data_2006$COUNT_WNE_P6) != TRUE)
is.numeric(data_2006$COUNT_NWNE_P6)
is.numeric(data_2006$COUNT_WNE_P6)
unemployment_six_years(low)
unemployment_six_years <- function(dataset) {
dataset$COUNT_NWNE_P6 <-   as.numeric(as.character(dataset$COUNT_NWNE_P6))
dataset$COUNT_WNE_P6 <- as.numeric(as.character(dataset$COUNT_WNE_P6))
sub <- subset(dataset, is.na(dataset$COUNT_NWNE_P6) != TRUE &         is.na(dataset$COUNT_WNE_P6) != TRUE)
NW <- as.vector(sub$COUNT_NWNE_P6)
W <- as.vector(sub$COUNT_WNE_P6)
tot <- NW + W
return (NW / tot)
}
unemp_low <- unemployment_six_years(low)
low_mean <- mean(unemp_low)
unemp_low_mid <- unemployment_six_years(low_mid)
low_mid_mean <- mean(unemp_low_mid)
unemp_mid_high <- unemployment_six_years(mid_high)
mid_high_mean <- mean(unemp_mid_high)
unemp_high <- unemployment_six_years(high)
high_mean <- mean(unemp_high)
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean), col = c("#DB71C3", "#49A8BE", "#C8A9D1", "#D11D56"), main = "Unemployment Rate by Aid Percentage", xlab = "Percentage of Students who Recieved Financial Aid", ylab = "Unemployment Rate Six Years after Entry", names.arg = c("Low", "Low-Middle", "Middle-High", "High"), cex.names = 0.6)
estimate <- (.5*low_mean + .5*low_mid_mean) - (.5*mid_high_mean + .5*high_mean)
x <- c(unemp_low, unemp_low_mid, unemp_mid_high, unemp_high)
varx <- (var(x)) * (((.5^2)/length(unemp_low)) +
((.5^2)/length(unemp_low_mid)) +
((.5^2)/length(unemp_mid_high)) +
((.5^2)/length(unemp_high))
)
save(estimate, x, varx, file = "../../data/hyp_results.RData")
load("../data/hyp_results.RData")
setwd("~/stat159-project3")
setwd("~/stat159-project3/slides")
load("../data/hyp_results.RData")
estimate
round(varx, 4)
round(varx, 6)
round(varx, 5)
sqrt(varx)
png("../../images/funding.png")
barplot(height = counts, col = c("darkblue", "red", "purple"), beside = TRUE, main = "Bar Plot of Unemployment Rate", names.arg = c("Low", "Medium", "High"), xlab = "Average Faculty Salary", ylab = "Unemployment Rate", ylim = c(0, 0.18))
data_2006$AVGFACSAL <- as.numeric(as.character(data_2006$AVGFACSAL))
data_2006 <- subset(data_2006, data_2006$AVGFACSAL != TRUE)
hist(as.numeric(data_2006$AVGFACSAL), breaks = 50, main = "Histogram of Faculty Salary", xlab = "Monthly Faculty Salary")
hist(as.numeric(data_2006$AVGFACSAL), breaks = 50, main = "Histogram of Faculty Salary", xlab = "Monthly Faculty Salary")
mid <- rbind(low_mid, mid_high)
LFLS <- subset(low, low$AVGFACSAL < 4500)
estimate
sqrt(varx)
wd()
setwd("~/stat159-project3/slides")
save(estimate, x, varx, file = "../../data/hyp_results.RData")
save(estimate, x, varx, file = "~/stat159-project3/data/hyp_results.RData")
save(estimate_LS, estimate_MS, estimate_HS, varx_LS, varx_MS, varx_HS, file = "~/stat159-project3/data/rev_hyp_results.RData")
estimate_LS <- (.5*LFLS_mean + .5*MFLS_mean) - HFLS_mean
unemp_LFMS <- unemployment_six_years(LFMS)
unemp_LFLS <- unemployment_six_years(LFLS)
LFLS_mean <- mean(unemp_LFLS)
unemp_MFLS <- unemployment_six_years(MFLS)
MFLS_mean <- mean(unemp_MFLS)
LFLS <- subset(low, low$AVGFACSAL < 4500)
ii <- c(1,2,3,4,5)
iii <- c(6,7,8,9,10)
iiii <- data.frame(ii, iii)
iiii
iiii[,-c(1)]
data_2006 <- read.csv("~/Downloads/CollegeScorecard_Raw_Data/MERGED2005_06_PP.csv")
data_2006$INC_PCT_LO <- as.numeric(as.character(data_2006$INC_PCT_LO))
data_2006$INC_PCT_M1 <- as.numeric(as.character(data_2006$INC_PCT_M1))
data_2006$INC_PCT_M2 <- as.numeric(as.character(data_2006$INC_PCT_M2))
data_2006$INC_PCT_H1 <- as.numeric(as.character(data_2006$INC_PCT_H1))
data_2006 <- subset(data_2006, INC_PCT_LO != TRUE & INC_PCT_M1 != TRUE & INC_PCT_M2 != TRUE & INC_PCT_H1 != TRUE)
lo <- data_2006$INC_PCT_LO
m1 <- data_2006$INC_PCT_M1
m2 <- data_2006$INC_PCT_M2
h1 <- data_2006$INC_PCT_H1
pct_fin <- lo + m1 + m2 + h1
data_2006 <- cbind(data_2006, pct_fin)
hist(as.numeric(as.character(data_2015$PCTFLOAN)), breaks = 50, main = "Histogram of Financial Aid", xlab = "Percent of Students")
low <- subset(data_2006, pct_fin >= 0.6 & pct_fin < 0.91)
low_mid <- subset(data_2006, pct_fin >= 0.91 & pct_fin < 0.96)
mid_high <- subset(data_2006, pct_fin >= 0.96 & pct_fin < 0.984)
high <- subset(data_2006, pct_fin >= 0.984 & pct_fin < 1)
source("../functions/unemployment.R")
source("~/stat159-project3/code/functions.unemployment.R")
source('~/stat159-project3/code/functions/unemployment.R', chdir = TRUE)
source('~/stat159-project3/code/functions/unemployment.R')
unemp_low <- unemployment_six_years(low)
data_2006$COUNT_NWNE_P6 <- as.numeric(as.character(data_2006$COUNT_NWNE_P6))
data_2006$COUNT_WNE_P6 <- as.numeric(as.character(data_2006$COUNT_WNE_P6))
sub <- subset(data_2006, is.na(data_2006$COUNT_WNE_P6) != TRUE & is.na(data_2006$COUNT_NWNE_P6) != TRUE)
unemp_low <- unemployment_six_years(low)
unemployment_six_years <- function(dataset) {
dataset$COUNT_NWNE_P6 <-   as.numeric(as.character(dataset$COUNT_NWNE_P6))
dataset$COUNT_WNE_P6 <- as.numeric(as.character(dataset$COUNT_WNE_P6))
sub <- subset(dataset, is.na(dataset$COUNT_NWNE_P6) != TRUE &         is.na(dataset$COUNT_WNE_P6) != TRUE)
NW <- as.vector(sub$COUNT_NWNE_P6)
W <- as.vector(sub$COUNT_WNE_P6)
tot <- NW + W
return (NW / tot)
}
unemp_low <- unemployment_six_years(low)
low_mean <- mean(unemp_low)
unemp_low_mid <- unemployment_six_years(low_mid)
low_mid_mean <- mean(unemp_low_mid)
unemp_mid_high <- unemployment_six_years(mid_high)
mid_high_mean <- mean(unemp_mid_high)
unemp_high <- unemployment_six_years(high)
high_mean <- mean(unemp_high)
plot(unemp_low)
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean), col = c("#DB71C3", "#49A8BE", "#C8A9D1", "#D11D56"), main = "Unemployment Rate by Aid Percentage", xlab = "Percentage of Students who Recieved Financial Aid", ylab = "Unemployment Rate Six Years after Entry", names.arg = c("Low", "Low-Middle", "Middle-High", "High"), cex.names = 0.6)
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean), col = c("#DB71C3", "#49A8BE", "#C8A9D1", "#D11D56"), main = "Unemployment Rate by Aid Percentage", xlab = "Percentage of Students who Recieved Financial Aid", ylab = "Unemployment Rate Six Years after Entry", names.arg = c("Low", "Low-Middle", "Middle-High", "High"), cex.names = 0.6)
barplot(c(low_mean, low_mid_mean, mid_high_mean, high_mean))
plot(data_2006$COUNT_WNE_P6, data_2006$COUNT_NWNE_P6)
plot(c(1,2,3), c(2,4,5))
